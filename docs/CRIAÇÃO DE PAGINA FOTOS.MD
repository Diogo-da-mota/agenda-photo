# PRD - Sistema de Entrega de Fotos Profissional

## 1. VIS√ÉO EXECUTIVA

### 1.1 Objetivo Principal
Desenvolver um sistema de entrega de fotos profissional que permita aos fot√≥grafos compartilhar galerias de imagens com seus clientes atrav√©s de links √∫nicos, oferecendo uma experi√™ncia premium de visualiza√ß√£o e download.

### 1.2 Proposta de Valor
- **Para Fot√≥grafos**: Sistema simples e profissional para entregar trabalhos sem depender de plataformas externas
- **Para Clientes**: Acesso f√°cil e intuitivo √†s fotos, com download individual ou em lote, sem necessidade de cadastro

### 1.3 M√©tricas de Sucesso
- Taxa de convers√£o de visualiza√ß√£o para download > 80%
- Tempo m√©dio de carregamento da galeria < 2 segundos
- NPS dos fot√≥grafos > 8
- Zero reclama√ß√µes sobre dificuldade de uso por clientes finais

## 2. ARQUITETURA DO SISTEMA

### 2.1 Stack Tecnol√≥gica
- **Frontend**: Next.js (App Router) + TypeScript
- **Estiliza√ß√£o**: Tailwind CSS (mantendo consist√™ncia com o site existente)
- **Backend**: Supabase (Auth, Database, Storage, Functions)
- **CDN**: Cloudflare/Vercel para otimiza√ß√£o de imagens
- **Componentes**: shadcn/ui para UI consistente
- **√çcones**: Lucide React

### 2.2 Estrutura de URLs
```
/entrega-fotos                    ‚Üí Dashboard do fot√≥grafo (protegido)
/entrega-fotos/nova               ‚Üí Criar nova entrega (protegido)
/entrega-fotos/[codigo-unico]     ‚Üí Galeria p√∫blica
/entrega-fotos/admin/[id]         ‚Üí Gerenciar entrega espec√≠fica (protegido)
```

### 2.3 Estrutura de Armazenamento (Supabase Storage)
```
fotografos/
  [fotografo-id]/
    entregas/
      [entrega-id]/
        originais/
          [nome-arquivo-original]
        thumbnails/
          [nome-arquivo-thumb]
        previews/
          [nome-arquivo-preview]
```

## 3. FUNCIONALIDADES DETALHADAS

### 3.1 √Årea do Fot√≥grafo (Autenticada)

#### 3.1.1 Dashboard Principal
- **Lista de Entregas**: Cards com preview, t√≠tulo, cliente, data, status
- **Filtros**: Por status (ativa/inativa), cliente, data
- **Busca**: Por nome do cliente ou c√≥digo da entrega
- **A√ß√µes R√°pidas**: Copiar link, editar, desativar
- **M√©tricas**: Visualiza√ß√µes, downloads totais, fotos mais baixadas

#### 3.1.2 Criar Nova Entrega
**Formul√°rio em Steps:**

**Step 1 - Informa√ß√µes B√°sicas:**
- T√≠tulo da entrega (obrigat√≥rio)
- Nome do cliente (obrigat√≥rio)
- Email do cliente (opcional - para notifica√ß√µes futuras)
- Telefone do cliente (opcional)
- Data do evento (opcional)
- Descri√ß√£o/Observa√ß√µes (opcional)
- Validade do link (opcional - padr√£o: sem expira√ß√£o)

**Step 2 - Upload de Fotos:**
- Drag & drop area com preview instant√¢neo
- Upload m√∫ltiplo (aceitar JPG, PNG, WebP)
- Barra de progresso individual e total
- Valida√ß√£o de tamanho (m√°x 50MB por arquivo)
- Gera√ß√£o autom√°tica de thumbnails no frontend
- Op√ß√£o de adicionar alt text para cada imagem
- Reordena√ß√£o por drag & drop

**Step 3 - Revis√£o e Publica√ß√£o:**
- Preview da galeria como o cliente ver√°
- C√≥digo √∫nico gerado automaticamente
- Op√ß√£o de personalizar o c√≥digo (verifica√ß√£o de disponibilidade)
- Bot√£o "Publicar Entrega"

#### 3.1.3 Gerenciar Entrega Existente
- Adicionar/remover fotos
- Alterar ordem das fotos
- Editar informa√ß√µes da entrega
- Ver estat√≠sticas detalhadas (downloads por foto)
- Desativar/reativar entrega
- Alterar data de validade

### 3.2 √Årea P√∫blica (Galeria do Cliente)

#### 3.2.1 Layout da Galeria
```typescript
interface GaleriaLayout {
  mobile: {
    colunas: 1 | 2,
    espacamento: '8px',
    thumbnailQualidade: 'm√©dia'
  },
  tablet: {
    colunas: 3,
    espacamento: '12px',
    thumbnailQualidade: 'alta'
  },
  desktop: {
    colunas: 4 | 5,
    espacamento: '16px',
    thumbnailQualidade: 'alta'
  }
}
```

#### 3.2.2 Componentes da P√°gina
**Header:**
- Logo/nome do fot√≥grafo
- T√≠tulo da entrega
- Data do evento (se dispon√≠vel)
- Contador de fotos

**Galeria Principal:**
- Grid responsivo com aspect ratio preservado
- Lazy loading com skeleton placeholders
- Hover effects suaves (zoom sutil + overlay)
- Indicador de carregamento por imagem

**Lightbox (ao clicar na imagem):**
- Navega√ß√£o por setas/swipe
- Zoom in/out
- Informa√ß√µes EXIF (opcional)
- Bot√£o de download prominente
- Compartilhamento direto (WhatsApp, email)
- Contador (foto X de Y)

**Barra de A√ß√µes Fixa (bottom mobile, top desktop):**
- Bot√£o "Baixar Selecionadas" (com contador)
- Bot√£o "Baixar Todas"
- Modo sele√ß√£o m√∫ltipla
- Filtros (se > 50 fotos)

### 3.3 Sistema de Download

#### 3.3.1 Download Individual
- Click direto no bot√£o download
- Mant√©m nome original do arquivo
- Sem compress√£o adicional

#### 3.3.2 Download M√∫ltiplo/Lote
```javascript
// Estrat√©gia de download em lote
interface DownloadStrategy {
  pequeno: { // < 10 fotos
    metodo: 'download-sequencial',
    feedback: 'progress-bar'
  },
  medio: { // 10-50 fotos
    metodo: 'zip-client-side',
    biblioteca: 'jszip',
    feedback: 'modal-progress'
  },
  grande: { // > 50 fotos
    metodo: 'email-link',
    processamento: 'background-job',
    feedback: 'notificacao-email'
  }
}
```

## 4. DESIGN SYSTEM

### 4.1 Componentes Reutiliz√°veis
```typescript
// Componentes principais a serem criados
components/
  entrega-fotos/
    GaleriaGrid.tsx        // Grid responsivo principal
    FotoCard.tsx           // Card individual com hover
    Lightbox.tsx           // Visualizador fullscreen
    UploadZone.tsx         // √Årea de drag & drop
    DownloadManager.tsx    // Gerenciador de downloads
    ShareButton.tsx        // Compartilhamento
    SelectionMode.tsx      // Modo sele√ß√£o m√∫ltipla
    GaleriaHeader.tsx      // Header da galeria p√∫blica
    StatsCard.tsx          // Card de estat√≠sticas
```

### 4.2 Tokens de Design
```css
/* Vari√°veis espec√≠ficas do m√≥dulo */
--foto-border-radius: 8px;
--foto-shadow-hover: 0 8px 30px rgba(0,0,0,0.12);
--foto-overlay-gradient: linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7));
--galeria-gap-mobile: 8px;
--galeria-gap-desktop: 16px;
--animation-duration: 200ms;
```

### 4.3 Estados Visuais
- **Loading**: Skeleton com shimmer effect
- **Error**: Mensagem amig√°vel com retry
- **Empty**: Ilustra√ß√£o + mensagem
- **Success**: Toast notifications

## 5. EXPERI√äNCIA DO USU√ÅRIO (UX)

### 5.1 Fluxo do Fot√≥grafo
```mermaid
graph LR
    A[Login] --> B[Dashboard]
    B --> C[Nova Entrega]
    C --> D[Upload Fotos]
    D --> E[Gerar Link]
    E --> F[Compartilhar]
    B --> G[Gerenciar]
    G --> H[Editar/Stats]
```

### 5.2 Fluxo do Cliente
```mermaid
graph LR
    A[Recebe Link] --> B[Abre Galeria]
    B --> C[Visualiza Fotos]
    C --> D{A√ß√£o}
    D --> E[Download Individual]
    D --> F[Selecionar M√∫ltiplas]
    F --> G[Download Lote]
    D --> H[Compartilhar]
```

### 5.3 Micro-intera√ß√µes
- Feedback visual ao hover/touch
- Anima√ß√£o suave ao carregar imagens
- Progress bar em uploads/downloads
- Haptic feedback em mobile (se suportado)
- Transi√ß√µes entre estados

## 6. PERFORMANCE

### 6.1 Otimiza√ß√µes de Imagem
```typescript
interface ImageOptimization {
  thumbnail: {
    formato: 'webp',
    qualidade: 80,
    dimensoes: { maxWidth: 400, maxHeight: 400 }
  },
  preview: {
    formato: 'webp',
    qualidade: 85,
    dimensoes: { maxWidth: 1200, maxHeight: 1200 }
  },
  original: {
    manterFormato: true,
    manterQualidade: true,
    manterMetadata: true
  }
}
```

### 6.2 Estrat√©gias de Loading
- Lazy loading com Intersection Observer
- Preload de 3 pr√≥ximas imagens no lightbox
- Service Worker para cache offline
- CDN com cache de borda

### 6.3 Metas de Performance
- LCP < 2.5s
- FID < 100ms
- CLS < 0.1
- Time to Interactive < 3s

## 7. SEGURAN√áA

### 7.1 Prote√ß√£o de Conte√∫do
- URLs assinadas com expira√ß√£o (Supabase Storage)
- Rate limiting por IP
- Prote√ß√£o contra hotlinking
- Marca d'√°gua opcional

### 7.2 Privacidade
- Links n√£o index√°veis (robots.txt)
- Op√ß√£o de senha para galerias sens√≠veis
- Logs de acesso para o fot√≥grafo
- LGPD compliance

## 8. ANALYTICS E MONITORAMENTO

### 8.1 M√©tricas a Coletar
- Visualiza√ß√µes √∫nicas por entrega
- Taxa de download por foto
- Tempo m√©dio na galeria
- Dispositivos mais usados
- Hor√°rios de pico de acesso

### 8.2 Dashboard de Analytics
- Gr√°ficos de visualiza√ß√£o temporal
- Heatmap de fotos mais populares
- Funil de convers√£o (view ‚Üí download)
- Comparativo entre entregas

## 9. CASOS DE USO ESPEC√çFICOS

### 9.1 Casamento (300+ fotos)
- Categoriza√ß√£o por momento (prepara√ß√£o, cerim√¥nia, festa)
- Filtros r√°pidos
- Download por categoria
- Destaque para fotos favoritas

### 9.2 Ensaio Fotogr√°fico (50-100 fotos)
- Layout premium com fotos grandes
- Transi√ß√µes elegantes
- Foco em qualidade visual
- Compartilhamento social facilitado

### 9.3 Evento Corporativo (100-200 fotos)
- Op√ß√£o de branding corporativo
- Download em alta resolu√ß√£o
- Relat√≥rio de uso para o cliente
- Integra√ß√£o com sistemas corporativos

## 10. IMPLEMENTA√á√ÉO PROGRESSIVA

### Fase 1 - MVP (2 semanas)
- [x] Estrutura de banco de dados
- [ ] Upload b√°sico de fotos
- [ ] Galeria p√∫blica simples
- [ ] Download individual
- [ ] Autentica√ß√£o fot√≥grafo

### Fase 2 - Melhorias Core (2 semanas)
- [ ] Download m√∫ltiplo
- [ ] Lightbox completo
- [ ] Dashboard com m√©tricas b√°sicas
- [ ] Otimiza√ß√£o de imagens

### Fase 3 - Features Avan√ßadas (3 semanas)
- [ ] Analytics detalhado
- [ ] Compartilhamento social
- [ ] Prote√ß√£o por senha
- [ ] API para integra√ß√µes

### Fase 4 - Polish (1 semana)
- [ ] Anima√ß√µes refinadas
- [ ] PWA support
- [ ] Testes A/B
- [ ] Documenta√ß√£o completa

## 11. PROMPT PARA LLM

```markdown
Crie um sistema completo de entrega de fotos profissional seguindo estas especifica√ß√µes:

CONTEXTO:
- Sistema web para fot√≥grafos entregarem fotos aos clientes via link √∫nico
- Rota base j√° existe: /entrega-fotos
- Usar Supabase (Auth, Database, Storage)
- Manter consist√™ncia visual com site existente
- Mobile-first, totalmente responsivo

REQUISITOS T√âCNICOS:
- Next.js com App Router e TypeScript
- Tailwind CSS para estiliza√ß√£o
- shadcn/ui para componentes
- Lucide React para √≠cones
- Supabase para todo backend

ESTRUTURA DE BANCO (j√° criada):
- Tabela fotografos: dados do fot√≥grafo
- Tabela entregas: informa√ß√µes de cada entrega
- Tabela fotos_entrega: fotos individuais
- Tabela logs_download: analytics

FUNCIONALIDADES PRINCIPAIS:

1. √ÅREA AUTENTICADA (/entrega-fotos):
   - Dashboard com lista de entregas
   - M√©tricas (views, downloads)
   - Criar nova entrega com upload m√∫ltiplo
   - Gerenciar entregas existentes

2. GALERIA P√öBLICA (/entrega-fotos/[codigo-unico]):
   - Grid responsivo de fotos (1-2 cols mobile, 4-5 desktop)
   - Lazy loading com placeholders
   - Lightbox ao clicar (navega√ß√£o, zoom, download)
   - Download individual por foto
   - Download m√∫ltiplo selecionando fotos
   - Bot√£o "Baixar Todas" com estrat√©gia inteligente

3. UPLOAD DE FOTOS:
   - Drag & drop com preview
   - Progresso individual
   - Gera√ß√£o de thumbnails no cliente
   - Upload para Supabase Storage
   - Estrutura: fotografos/[id]/entregas/[id]/

4. SISTEMA DE DOWNLOAD:
   - Individual: download direto do arquivo
   - M√∫ltiplo < 10: downloads sequenciais
   - M√∫ltiplo 10-50: ZIP no cliente com JSZip
   - M√∫ltiplo > 50: job ass√≠ncrono + email

5. COMPONENTES UI:
   - GaleriaGrid: grid responsivo com aspect ratio
   - FotoCard: card com hover effect e sele√ß√£o
   - Lightbox: visualizador fullscreen
   - UploadZone: √°rea de drag & drop
   - DownloadManager: gerencia downloads m√∫ltiplos

6. PERFORMANCE:
   - Imagens WebP otimizadas
   - CDN para assets
   - Lazy loading
   - Cache inteligente

7. UX/UI:
   - Anima√ß√µes suaves (200ms)
   - Feedback visual em todas a√ß√µes
   - Loading states com skeleton
   - Toast notifications
   - Mobile gestures (swipe no lightbox)

EXEMPLO DE USO:
1. Fot√≥grafo faz login
2. Clica em "Nova Entrega"
3. Preenche dados do cliente
4. Arrasta 150 fotos do casamento
5. Sistema faz upload com progress
6. Gera link: /entrega-fotos/SILVA-202411-ABC123
7. Fot√≥grafo envia link ao cliente
8. Cliente abre no celular
9. V√™ galeria bonita e responsiva
10. Baixa fotos favoritas ou todas de uma vez

IMPORTANTE:
- C√≥digo limpo e bem comentado
- Componentes reutiliz√°veis
- Tratamento de erros amig√°vel
- Acessibilidade (ARIA labels)
- SEO otimizado para rota p√∫blica
```

## 12. CONSIDERA√á√ïES FINAIS

Este PRD foi estruturado para fornecer uma vis√£o completa do sistema, desde a arquitetura at√© os detalhes de implementa√ß√£o. O foco est√° em criar uma experi√™ncia premium tanto para fot√≥grafos quanto para seus clientes, com performance e usabilidade como prioridades.

A implementa√ß√£o progressiva permite entregas r√°pidas de valor enquanto o sistema evolui para sua vers√£o completa.




Pr√≥ximos passos:
üß† Conectar ao Supabase: Substituir os dados falsos por dados reais.
üîê Autentica√ß√£o: Fazer o login do fot√≥grafo funcionar de verdade.
‚¨ÜÔ∏è Upload Real: Ativar a √°rea de upload para enviar as fotos.
‚¨áÔ∏è Downloads: Implementar a l√≥gica para baixar as imagens.
Por onde prefere come√ßar? üöÄ