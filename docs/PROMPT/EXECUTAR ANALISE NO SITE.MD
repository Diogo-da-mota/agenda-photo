# üìã PROMPT PARA CURSOR - DOCUMENTA√á√ÉO COMPLETA DO PROJETO

Quero que voc√™ analise **TODO O PROJETO** e atualize o arquivo `ESTRUTURA-COMPLETA.md` com informa√ß√µes detalhadas e precisas.

## üéØ OBJETIVO PRINCIPAL
Criar um documento de refer√™ncia COMPLETO que contenha toda a arquitetura, fluxos, componentes, servi√ßos, banco de dados e funcionalidades do site para resolver erros rapidamente.

## üîç AN√ÅLISE OBRIGAT√ìRIA - FA√áA UMA VARREDURA COMPLETA EM:

### üìÅ 1. ESTRUTURA DE ARQUIVOS E PASTAS
- Mapeie TODA a estrutura de pastas do projeto
- Liste todos os arquivos importantes (.tsx, .ts, .js, .css, etc.)
- Identifique a hierarquia e organiza√ß√£o do c√≥digo
- Inclua depend√™ncias do package.json

### üõ£Ô∏è 2. SISTEMA DE ROTAS
- Analise `App.tsx`, `routes.tsx` ou arquivos de roteamento
- Liste TODAS as rotas dispon√≠veis (/, /login, /dashboard, etc.)
- Identifique rotas protegidas vs p√∫blicas
- Mapeie par√¢metros de rota (ex: /produto/:id)
- Documente redirects e guards de rota

### üß© 3. COMPONENTES E P√ÅGINAS
Para CADA p√°gina/componente, documente:
- Nome do arquivo e localiza√ß√£o
- Props que recebe
- Estados internos (useState, useContext)
- Hooks utilizados (useEffect, custom hooks)
- Componentes filhos utilizados
- Funcionalidades principais
- Integra√ß√µes com servi√ßos/APIs

### üîß 4. SERVI√áOS E UTILIT√ÅRIOS
- Liste todos os servi√ßos (ex: authService, apiService, etc.)
- Fun√ß√µes utilit√°rias importantes
- Configura√ß√µes de API
- Interceptors e middlewares
- Valida√ß√µes e schemas

### üóÑÔ∏è 5. BANCO DE DADOS SUPABASE (AN√ÅLISE PROFUNDA)
Analise e documente:
- **Tabelas**: Nome, estrutura de colunas, tipos de dados
- **Relacionamentos**: Foreign keys, joins utilizados
- **Pol√≠ticas RLS**: Para cada tabela, liste as policies
- **Triggers**: Se houver, documente
- **Functions**: Fun√ß√µes do banco personalizadas
- **Views**: Se existirem
- **Indexes**: √çndices criados
- **Storage**: Buckets e pol√≠ticas de storage

### üîê 6. AUTENTICA√á√ÉO E AUTORIZA√á√ÉO
- Sistema de login/logout
- Gerenciamento de sess√£o
- Tipos de usu√°rio/roles
- Prote√ß√£o de rotas
- Verifica√ß√£o de permiss√µes

### üì° 7. INTEGRA√á√ïES E APIs
- APIs externas utilizadas
- Configura√ß√µes de ambiente (.env)
- Webhooks
- Servi√ßos de terceiros

### üé® 8. ESTILOS E UI
- Sistema de design utilizado (Tailwind, CSS modules, etc.)
- Temas e vari√°veis CSS
- Componentes de UI reutiliz√°veis
- Responsividade

## üìù ESTRUTURA DO ARQUIVO ESTRUTURA-COMPLETA.md

Organize o documento assim:

```markdown
# üèóÔ∏è ESTRUTURA COMPLETA DO PROJETO

## üìÇ 1. √ÅRVORE DE ARQUIVOS
[Estrutura visual completa das pastas]

## üõ£Ô∏è 2. MAPEAMENTO DE ROTAS
### Rotas P√∫blicas
- `/` - Home
  - Componente: Home.tsx
  - Funcionalidades: [listar]
  - Servi√ßos utilizados: [listar]
  
### Rotas Protegidas
- `/dashboard` - Dashboard
  - Componente: Dashboard.tsx
  - Autentica√ß√£o: Requer login
  - Permiss√µes: [especificar]

## üß© 3. COMPONENTES DETALHADOS
### Componente: Header.tsx
- **Localiza√ß√£o**: src/components/Header.tsx
- **Props**: { user: User, onLogout: () => void }
- **Estados**: isMenuOpen: boolean
- **Funcionalidades**: 
  - Navega√ß√£o principal
  - Menu mobile
  - Logout de usu√°rio
- **Integra√ß√µes**: authService.logout()

## üóÑÔ∏è 4. BANCO DE DADOS SUPABASE

### Tabela: users
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email VARCHAR NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```
**Pol√≠ticas RLS**:
- users_select_own: Usu√°rios podem ver apenas seus dados
- users_update_own: Usu√°rios podem atualizar apenas seus dados

### Tabela: projects
[Estrutura e pol√≠ticas]

## üîß 5. SERVI√áOS E UTILIT√ÅRIOS
### authService.ts
- login(email, password)
- logout()
- getCurrentUser()
- updateProfile(data)

## üîê 6. AUTENTICA√á√ÉO
- **Provedor**: Supabase Auth
- **Fluxo**: Email/Password + Social Login
- **Prote√ß√£o**: HOC withAuth(), useAuth() hook

## üì° 7. INTEGRA√á√ïES
- **Supabase**: Banco de dados e autentica√ß√£o
- **APIs Externas**: [listar se houver]

## üé® 8. SISTEMA DE ESTILOS
- **Framework**: Tailwind CSS
- **Temas**: Light/Dark mode
- **Componentes UI**: [listar biblioteca utilizada]

## üîÑ 9. FLUXOGRAMA DE NAVEGA√á√ÉO
```
üì± FLUXO PRINCIPAL:
/ (Home) 
  ‚Üì
/login ‚Üí /dashboard 
          ‚Üì
       /profile ‚Üê ‚Üí /settings
          ‚Üì
       /projects ‚Üí /project/:id
```

## ‚ö†Ô∏è 10. PONTOS CR√çTICOS E DEPEND√äNCIAS
- **Autentica√ß√£o**: Todas as rotas /dashboard/* dependem de usu√°rio logado
- **Supabase**: Conex√£o essencial para funcionamento
- **Vari√°veis ENV**: [listar vari√°veis cr√≠ticas]

## üêõ 11. PROBLEMAS CONHECIDOS E SOLU√á√ïES
[Documente erros comuns e suas solu√ß√µes]
```

## ‚ö° INSTRU√á√ïES ESPEC√çFICAS PARA O CURSOR:

1. **SEJA EXTREMAMENTE DETALHADO** - N√£o pule nenhum arquivo importante
2. **ANALISE O C√ìDIGO REAL** - N√£o invente informa√ß√µes, leia o c√≥digo
3. **INCLUA EXEMPLOS DE C√ìDIGO** - Especialmente para fun√ß√µes cr√≠ticas
4. **DOCUMENTE DEPEND√äNCIAS** - O que quebra se X parar de funcionar
5. **MAPEIE FLUXOS DE DADOS** - Como os dados fluem entre componentes
6. **IDENTIFIQUE GARGALOS** - Pontos √∫nicos de falha
7. **LISTE TODAS AS TABELAS** - Com estrutura completa e relacionamentos
8. **DOCUMENTE POL√çTICAS RLS** - Essencial para debugging de permiss√µes

## üö® ATEN√á√ÉO ESPECIAL PARA:
- Configura√ß√µes do Supabase (supabase.ts)
- Tipos TypeScript (interfaces e types)
- Context Providers e seus valores
- Custom Hooks e sua l√≥gica
- Valida√ß√µes de formul√°rio
- Tratamento de erros
- Loading states e UX

**RESULTADO ESPERADO**: Um documento que me permita entender COMPLETAMENTE o projeto e resolver qualquer erro rapidamente, mesmo depois de semanas sem mexer no c√≥digo.